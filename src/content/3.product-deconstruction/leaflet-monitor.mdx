# 3. IM (Instance Monitor)  
服务器后端实例监控程序（ IM ）分布部署在各个厂商的游戏面板所在的物理机上，是联机大厅数据的提供者。  
技术上，由于工作在服务器，且有高并发需求，可以考虑使用 go 开发。  
IM 的主要职能如下：  
#### 1. 抓取游戏面板实例信息  
##### 功能：  
IM 安装在各种游戏面板受控端，从游戏实例处能获得几乎所有需要的数据。  
其中一些关键的数据如下：  
- 服务器实例的联机 ip 地址
- 服务器的游戏版本，如果是模组服，还需要知道模组加载器类型。  
- 如果是模组服，还需要知道服务器的模组列表。  
- 服务器实时在线人数  
- 服务器名称  
- 服务器硬件配置
- ......

##### 技术实现：  
首先是得至少开发两套 API 接口，来对接目前最有名的两个开源面板：  
1. [翼龙游戏面板：Pterodactyl-China](https://pterodactyl.top/)  
2. [MCSM 游戏面板](https://mcsmanager.com/)  
这一步不会很难，因为两者都有完备的 API 开发文档和接口文档。  
抓取到需要的实例信息后，可以在本地维护一个动态数据库或者存在 RAM 直接和三叶互联网站交互。  


#### 2.  与三叶互联网站后端通信  
##### 功能：  
把自己抓取到的数据通过 API 传给三叶互联网站。  

##### 技术实现：  
开发一套 API 接口，实时的把数据传给三叶互联网站。  

